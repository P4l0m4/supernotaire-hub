<script setup lang="ts">
import { reviews } from "@/utils/reviews";

import logo from "/favicon-96x96.png";

import bannerImage from "@/assets/images/accompagnement-vente-immo-mobile.webp";

import lightning from "@/assets/animated-icons/lightning-animated.svg?raw";
import clock from "@/assets/animated-icons/clock-animated.svg?raw";
import lock from "@/assets/animated-icons/lock-animated.svg?raw";

import interfaceMandats from "@/assets/images/interface-mandats.webp";
import interfaceDocuments from "@/assets/images/interface-documents.webp";
import interfaceFormulaires from "@/assets/images/interface-formulaires.webp";

const runtimeConfig = useRuntimeConfig();
const baseUrl = runtimeConfig.public?.baseURL || "https://easycase.fr";

const featureCards = [
  {
    icon: lightning,
    title: "Automatisations intelligentes",
    description:
      "Pr√©-remplissage des documents, analyse des fichiers, parcours ultra-optimis√©s et relances automatiques.",
  },
  {
    icon: clock,
    title: "Collaboration fluide",
    description:
      "Suivez la progression de vos dossiers en temps r√©el, collaborez facilement avec vos clercs et soyez notifi√© lorsque votre intervention est n√©cessaire.",
  },
  {
    icon: lock,
    title: "S√©curit√© renforc√©e",
    description:
      "Vos documents et vos donn√©es sont prot√©g√©s par des mesures de s√©curit√© avanc√©es, en conformit√© avec les plus hauts standards de s√©curit√© informatique.",
  },
];

const steps = [
  {
    name: "Collecte de pi√®ces",
    beforeHours: 4,
    afterHours: 0.2,
  },
  {
    name: "Communication & relances",
    beforeHours: 2.5,
    afterHours: 0.5,
  },
  {
    name: "Simulation & calculs notari√©s",
    beforeHours: 2.0,
    afterHours: 0.5,
  },
  {
    name: "Pr√©paration & r√©daction de documents",
    beforeHours: 6.0,
    afterHours: 4,
  },
  {
    name: "Formalit√©s",
    beforeHours: 2,
    afterHours: 1.5,
  },
];

const questions = [
  {
    title: "Quand EasyCase sera-t-il officiellement lanc√© ?",
    answer:
      "Le lancement officiel de EasyCase est pr√©vu pour le troisi√®me trimestre 2026. En rejoignant l'acc√®s anticip√©, vous pourrez commencer √† utiliser certaines fonctionnalit√©s en avant-premi√®re.",
  },
  {
    title: "Quel sera le prix de EasyCase apr√®s la p√©riode d'acc√®s anticip√© ?",
    answer:
      "L'acc√®s complet √† EasyCase co√ªtera 280‚Ç¨ par mois et par notaire, ce qui inclut √©galement deux si√®ges collaborateurs. En devenant Notaire Fondateur pendant l'acc√®s anticip√©, vous b√©n√©ficierez d'une r√©duction permanente de 70% sur ce tarif.",
  },
  {
    title: "EasyCase est-il gratuit pendant l'acc√®s anticip√© ?",
    answer:
      "Oui, EasyCase sera propos√© gratuitement et exclusivement aux utilisateurs inscrits √† l'acc√®s anticip√©. En devenant Notaire Fondateur, vous b√©n√©ficierez d'un tarif pr√©f√©rentiel m√™me apr√®s le lancement officiel.",
  },
  {
    title: "EasyCase est-il gratuit pour les particuliers ?",
    answer:
      "Oui, EasyCase restera toujours gratuit pour les vendeurs et acheteurs de biens immobiliers.",
  },
];

useHead({
  title: "EasyCase | Acc√®s anticip√© et pr√©-vente limit√©e",
  meta: [
    {
      name: "description",
      content:
        "Rejoignez l'acc√®s anticip√© de EasyCase et b√©n√©ficiez de tarifs avantageux ainsi qu'un acc√®s privil√©gi√© aux fonctionnalit√©s avant le lancement officiel.",
    },
    {
      property: "og:type",
      content: "website",
    },
    {
      property: "og:title",
      content: "EasyCase | Finalisation rapide de vente immobili√®re",
    },
    {
      property: "og:url",
      content: "https://easycase.fr/",
    },
    {
      property: "og:image",
      content:
        "https://opengraph.b-cdn.net/production/images/a20c3e90-cc8a-4e2d-9841-b0e973037764.png?token=94GB_JSm5iZfopHGGLQTr5sxi1J4xl9L2EXPVPwg3hE&height=651&width=1200&expires=33287987916",
    },
    {
      property: "og:description",
      content:
        "Rejoignez l'acc√®s anticip√© de EasyCase et b√©n√©ficiez de tarifs avantageux ainsi qu'un acc√®s privil√©gi√© aux fonctionnalit√©s avant le lancement officiel.",
    },
  ],
});

useJsonld(() => ({
  "@context": "https://schema.org",
  "@type": "WebPage",
  name: "EasyCase | Finalisation rapide de vente immobili√®re",
  description:
    "La plateforme qui acc√©l√®re la finalisation des ventes immobili√®res pour les notaires d√©bord√©s et les vendeurs press√©s.",
  url: `${baseUrl}/beta`,
}));

useJsonld(() => ({
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  name: "EasyCase",
  operatingSystem: "Web",
  applicationCategory: "Legal, BusinessApplication",
  offers: {
    "@type": "Offer",
    price: "0",
    priceCurrency: "EUR",
  },
  url: "https://www.easycase.fr",
  logo: `https://www.easycase.fr/${logo}`,
  image:
    "https://opengraph.b-cdn.net/production/images/a20c3e90-cc8a-4e2d-9841-b0e973037764.png?token=94GB_JSm5iZfopHGGLQTr5sxi1J4xl9L2EXPVPwg3hE&height=651&width=1200&expires=33287987916",
  description:
    "EasyCase est une plateforme en ligne qui fait gagner du temps aux notaires, mais aussi aux vendeurs et acheteurs de biens immobiliers: constitution autonome des dossiers, formalit√©s immobili√®res faciles, pr√©-r√©daction des documents, RDV rapide en ligne, etc.",
  publisher: {
    "@type": "Organization",
    name: "EasyCase",
    url: `${baseUrl}`,
  },
}));
</script>
<template>
  <Container>
    <div class="centered-hero">
      <div class="centered-hero__text">
        <ReviewScore :reviews />
        <h1 class="centered-hero__text__title">
          Les jeunes notaires n‚Äôont pas besoin de travailler plus. Ils ont
          besoin de meilleurs outils.
          <svg
            viewBox="0 0 100 6"
            preserveAspectRatio="none"
            class="svg-underline"
          >
            <path
              d="
      M 0,5
      Q 50,0
        100,5
    "
            ></path>
          </svg>
        </h1>

        <p class="centered-hero__text__subtitle">
          EasyCase vous lib√®re du temps sur les t√¢ches qui n‚Äôont pas besoin de
          vous.
        </p>
        <div class="centered-hero__text__link">
          <NuxtLink
            to="/inscription"
            aria-label="R√©server votre acc√®s anticip√© √† EasyCase"
            style="width: 100%"
          >
            <UIPrimaryButton variant="accent-color" icon="hands_clapping_fill">
              Rejoindre l'acc√®s anticip√©
            </UIPrimaryButton></NuxtLink
          >
        </div>
      </div>
    </div>
  </Container>

  <Container>
    <Benefits
      title="D√©bord√©, mais..."
      subtitle="...pas assez rentable pour recruter ?"
      text="Les √©tudes r√©cemment cr√©√©es croulent sous les dossiers, emails et relances clients.
Pourtant, le chiffre d‚Äôaffaires ne suit pas, et recruter reste hors de port√©e."
    />
    <div class="feature-cards">
      <h3 class="feature-cards__title">
        Et si vous retrouviez le temps d‚Äôaccompagner vos clients comme vous le
        souhaitez ?
      </h3>
      <UIFeatureCard
        v-for="featureCard in featureCards"
        :key="featureCard.title"
        :icon="featureCard.icon"
        :title="featureCard.title"
        :description="featureCard.description"
      />
      <NuxtLink to="/inscription" class="feature-cards__link">
        <UIPrimaryButton
          variant="accent-color"
          icon="arrow_right"
          style="max-width: none"
        >
          Rejoindre l'acc√®s anticip√©
        </UIPrimaryButton>
      </NuxtLink>
    </div>
  </Container>
  <Container>
    <UILandingShowcase
      title="Optimisez la gestion de vos dossiers, sans compromis sur l‚Äôaccompagnement."
      highlightedTitle="sans compromis sur l‚Äôaccompagnement."
      subtitle="EasyCase automatise les t√¢ches r√©p√©titives √† faible valeur ajout√©e, pour vous laisser le temps de vous concentrer sur l‚Äôessentiel: vos clients."
      :imagePath="interfaceMandats"
  /></Container>
  <Container>
    <UILandingShowcase
      title="Gagnez en efficacit√©, ne renseignez plus jamais la m√™me
      information deux fois."
      highlightedTitle="Gagnez en efficacit√©,"
      subtitle="Cr√©√©z vos propres mod√®les de documents, EasyCase se charge de les remplir √† partir des informations du dossier."
      :imagePath="interfaceDocuments"
      reversed
    />
  </Container>
  <Container>
    <UILandingShowcase
      title="Collectez les pi√®ces rapidement, sans stress pour vos clients."
      highlightedTitle="sans stress pour vos clients."
      subtitle="Laissez nous guider vos clients dans la collecte des √©l√©ments du dossier, m√™me les plus complexes. Ils gagnent du temps, et vous aussi."
      :imagePath="interfaceFormulaires"
    />
  </Container>

  <Container
    ><ImageBanner
      title="Reprenez le contr√¥le de votre temps üßò"
      subtitle="R√©duisez intelligemment votre charge de travail, sans compromis sur l‚Äôaccompagnement."
      link-path="/inscription"
      link-label="D√©couvrir la solution"
      :image-path="bannerImage"
      :perks="[
        {
          title: 'Automatisations intelligentes',
          icon: 'sparkle',
        },
        {
          title: 'Dossiers complets et organis√©s',
          icon: 'list_checks',
        },
        {
          title: 'Gain de temps imm√©diat',
          icon: 'clock_countdown',
        },
      ]"
    />
    <ChartsTimeSaved :items="steps" />
  </Container>
  <Container
    ><div class="secondary-headlines">
      <h2 class="secondary-headlines__title">T√©moignages</h2>
      <h3 class="secondary-headlines__subtitle">
        Leurs avis valent mieux que tous nos arguments
      </h3>
    </div>
    <ReviewsCarousel :reviews
  /></Container>
  <Container><FounderPromo /></Container>
  <Container
    ><h3 class="feature-cards__title">Questions fr√©quentes</h3>
    <FAQComponent :questions />
    <UILogosCarousel />
  </Container>

  <HotjarTracking />
</template>
<style lang="scss" scoped>
.feature-cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  height: fit-content;

  @media (min-width: $big-tablet-screen) {
    grid-template-columns: 1fr 1fr 1fr;
  }

  &__title {
    width: 100%;
    text-align: center;
    font-size: 1.5rem;
    font-weight: $semi-bold;
    text-wrap: balance;
    margin-bottom: 1rem;

    @media (min-width: $big-tablet-screen) {
      font-size: 2.5rem;
      grid-column: span 3;
      margin-bottom: 2rem;
    }
  }

  &__link {
    height: 100%;

    @media (min-width: $big-tablet-screen) {
      grid-column: 2/3;
    }
  }
}

.interface-title {
  width: 100%;
  max-width: 80rem;
  text-align: center;
  font-size: 2rem;
  font-weight: $semi-bold;
  text-wrap: balance;
  margin-bottom: 1rem;

  @media (min-width: $big-tablet-screen) {
    font-size: 3rem;
    grid-column: span 3;
    margin-bottom: 2rem;
  }
}

.interface-image {
  width: 100%;
  height: auto;
  object-fit: cover;
  border-radius: $radius;
}

.scene * {
  transform-box: fill-box; /* origine = bbox de l‚Äô√©l√©ment */
  transform-origin: center;
}

@keyframes floatY {
  0% {
    transform: translateY(0px);
  }
  100% {
    transform: translateY(-4px);
  }
}

.float-slow {
  animation: floatY 3.5s ease-in-out infinite alternate;
}
.float-fast {
  animation: floatY 2.2s ease-in-out infinite alternate;
  animation-delay: 0.3s;
}

//accessibilit√©
@media (prefers-reduced-motion: reduce) {
  .float-slow,
  .float-fast {
    animation: none;
  }
}

.svg-underline {
  display: block;
  position: absolute;
  right: 2px;
  bottom: 0;
  height: 6px;
  width: calc(22% - 2px);
  fill: none;
  stroke: var(--underline-color, #ffbf00);
  stroke-width: 3px;
  stroke-linecap: round;
  overflow: visible;
  stroke-dasharray: 150; // longueur
  stroke-dashoffset: 150;
  transition: stroke-dashoffset 0.6s ease;
  transform: translateX(-65%);
}

.centered-hero {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: calc(100vh - 8rem);
  gap: 2rem;
  color: $text-color;
  width: 100%;
  position: relative;

  &::before {
    content: "";
    position: absolute;
    width: 100vw;
    height: calc(100vh - 6rem);
    background-image: url("@/assets/images/buildings.svg");
    opacity: 0.8;
    background-position: center;
    background-size: cover;
    z-index: -1;
    pointer-events: none;
    transition: opacity 0.5s ease-in-out;
  }

  &::after {
    content: "";
    position: absolute;
    width: 100vw;
    height: 100vh;
    margin: auto;
    background:
      linear-gradient(
          90deg,
          color-mix(in hsl, canvasText, transparent 80%) 1px,
          transparent 1px 45px
        )
        calc(45px * 0.36) 50% / 45px 45px,
      linear-gradient(
          color-mix(in hsl, canvasText, transparent 80%) 1px,
          transparent 1px 45px
        )
        0% calc(45px * 0.32) / 45px 45px;
    -webkit-mask: linear-gradient(-20deg, transparent 50%, white);
    mask: linear-gradient(-20deg, transparent 50%, white);
    transform-style: flat;
    opacity: 0.4;
    z-index: -1;
    pointer-events: none;
    transition: opacity 0.5s ease-in-out;

    @starting-style {
      opacity: 0;
    }
  }

  @media (min-width: $laptop-screen) {
    min-height: calc(100vh - 4.5rem);
    padding: 4rem 0;
    flex-direction: row;
    align-items: center;

    &::before {
      height: calc(100vh - 4.5rem);
    }
  }

  &__text {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    width: 100%;
    max-width: 600px;
    text-align: center;
    align-items: center;

    @media (min-width: $big-tablet-screen) {
      gap: 3rem;
      max-width: none;
    }

    @media (min-width: $laptop-screen) {
      &:hover .svg-underline {
        stroke-dashoffset: 0;
      }
    }

    &__title {
      font-size: 1.85rem;
      font-weight: $bold;
      text-wrap: balance;
      opacity: 1;
      position: relative;
      text-shadow: 0 0 10px rgba($text-color, 0.2);
      transition: opacity 1s ease-in-out;

      @media (min-width: $big-tablet-screen) {
        font-size: 3rem;
      }
    }

    &__subtitle {
      font-size: 1rem;
      line-height: 1.35;
      font-weight: $medium;
      margin-top: -1rem;
      opacity: 1;
      transition: opacity 1s ease-in-out;

      @starting-style {
        opacity: 0;
      }

      @media (min-width: $big-tablet-screen) {
        font-size: 1.25rem;
        max-width: 44rem;
      }
    }

    &__link {
      color: $text-color;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      max-width: 400px;
      transform: scale(1);
      transition: transform 1s cubic-bezier(0.47, 1.64, 0.41, 0.8);

      @starting-style {
        transform: scale(0);
      }

      @media (min-width: $tablet-screen) {
        max-width: 350px;
      }
    }
  }
}
</style>
